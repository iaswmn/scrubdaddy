(function(){(function($){$.fn.aboutHints=function(){this.each(function(){var hidden=true,$element=$(this),$innerWrapper=$element.find('.hint-inner-wrapper'),height=$innerWrapper.outerHeight(),position=$element.data('position'),width=$innerWrapper.outerWidth();var init=function(){$.winWidth()>=1360?wideScreensHintPosition():smallScreensHintPosition();clickHandler();};var wideScreensHintPosition=function(){$innerWrapper.css({left:(0-(width)/2)+20,top:0-(height+24)});};var smallScreensHintPosition=function(){$innerWrapper.css({top:0-(height+2)});if(position==='top-center'||position==='top-center'||position==='bottom-center'){$innerWrapper.css({left:(0-(width)/2)+20});}else if(position==='right'||position==='top-right'||position==='bottom-right'){$innerWrapper.css({right:0});}};var hideHint=function(){$innerWrapper.removeClass('js active-marker').find('.hint-text').removeAttr('style');return hidden=true;};var showHint=function(){$innerWrapper.addClass('js active-marker');$element.css({'z-index':2});$innerWrapper.find('.hint-text').css({'opacity':1});return hidden=false;};var clickHandler=function(){$element.on('click.Hint',function(){hidden?showHint():hideHint();});};return init();});return this;};}(jQuery));;(function($){$(document).ready(function(){var container=$('.history-navigation');var btn=container.find('.year');if(btn.length){btn.on('click',function(event){var target=$($(this).attr('href'));if(target.length){event.preventDefault();$("html, body").animate({scrollTop:target.offset().top},600);}});}
$('.hint-marker').aboutHints();var slider=$('.history-container');var history=$('.history'),lastItem=slider.find('.item').last().get(0);$(window).on('load',function(){var item=slider.find('.item');$(this).on('scroll',$.rared(function(){var position=history.offset().top-$(this).scrollTop(),bottomPointPassed=lastItem.getBoundingClientRect().top<Math.round(lastItem.getBoundingClientRect().height*0.3);if(bottomPointPassed||position>0){container.removeClass('active');}else{container.addClass('active');}
if(item.length){for(var i=0;i<item.length;i++){var pos=item.eq(i).offset().top-$(this).scrollTop();var height=item.eq(i).height()/2;if(pos<=height){btn.eq(i).addClass('active');btn.eq(i-1).removeClass('active');}else{btn.eq(i).removeClass('active');}}}},200));});});})(jQuery);}).call(this);